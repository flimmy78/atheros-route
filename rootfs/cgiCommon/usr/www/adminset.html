<html>
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<LINK REL="stylesheet" HREF="/style/handaer.css" TYPE="text/css" media="all">
<link rel="stylesheet" href="/style/normal_ws.css" type="text/css">
<script type="text/javascript" src="/lang/b28n.js"></script>
<script language="JavaScript" type="text/javascript" src="/style/basic.js"></script>
<script language="JavaScript" type="text/javascript">
if(getCookie()){}
else{window.top.location.href="../login.html";}

function refresh_all()
{	
	window.top.location.href = "http://10.10.10.254"; 
} 
function update()
{ 
	self.setTimeout("refresh_all()", 3);
}

function AdmFormCheck()
{
	if (document.Adm.ADMPASS.value.length == 0)
	{
		alert(_("err pwd empty"));
		document.Adm.ADMPASS.select();
		return false;
	}
	if ((document.Adm.ADMPASS.value.length  < 5)||(document.Adm.ADMPASS.value.length > 12))
	{
		alert(_("err pwd length"));
		document.Adm.ADMPASS.select();
		return false;
	}

	if(!Checkformat(document.Adm.ADMPASS.value))
	{
		alert(_("err keychar"));
		document.Adm.ADMPASS.select();
		return false;
	}
	
	if (document.Adm.ADMPASS.value != document.Adm.ADMPASS2.value) 
	{
		alert(_("err pwd mismatch"));
		return false;
	}
	//alert(_("password change"));
	//update();
	Butterlate.setTextDomain("admin");
	window.parent.Demo(_("admw pwdwaiting"));
	window.parent.deleteCookie("userName");
	button_commit('ADMINSET');
	return true;
}

function initTranslation()
{
	Butterlate.setTextDomain("admin");
	
	var e = document.getElementById("manAdmSet");
	e.innerHTML = _("man admin setting");

	e = document.getElementById("manAdmPasswd");
	e.innerHTML = _("admw pword");
	e = document.getElementById("manAdmPasswd2");
	e.innerHTML = _("admw vpword");
	
	e = document.getElementById("manAdmApply");	
	e.value = _("admin apply");
	e = document.getElementById("showp");
	e.innerHTML = _("admw showp");	
	e = document.getElementById("securitydes");
	e.innerHTML = _("admw securitydes");	
	e = document.getElementById("securitytitle");
	e.innerHTML = _("man admin setting");
	e = document.getElementById("passwordrequest");
	e.innerHTML = _("admw passwordrequest1");
}
function initValue()
{
	initTranslation();
}
function showpwd()
{
	
	
    var pass = document.getElementById("pwd").value;
    var pass2 = document.getElementById("pwd2").value;

	if(document.getElementById("aaaa").checked == true)
	{
		document.getElementById("pwdinput").innerHTML='<input type="text" name="ADMPASS" id="pwd" maxlength="32" size="32"  class="handaer_text_content" value="'+pass+'" />';
		document.getElementById("pwdinput2").innerHTML='<input type="text" name="ADMPASS2" id="pwd2" maxlength="32" size="32"  class="handaer_text_content" value="'+pass2+'" />';
	}
	else
	{
		document.getElementById("pwdinput").innerHTML='<input type="password" name="ADMPASS" id="pwd" maxlength="32" size="32" class="handaer_text_content"  value="'+pass+'" />';
		document.getElementById("pwdinput2").innerHTML='<input type="password" name="ADMPASS2" id="pwd2" maxlength="32" size="32" class="handaer_text_content"  value="'+pass2+'" />';
	}
}
function showpwd1()
{
    var pass = document.getElementById("oldpwd").value;
    var pass2 = document.getElementById("newp").value;
    var pass3 = document.getElementById("newp2").value;
	if(document.getElementById("aaaa1").checked == true)
	{
		document.getElementById("oldpwd1").innerHTML='<input type="text" name="OLDPASS" id="oldpwd" maxlength="32" size="32"  class="handaer_text_content" value="'+pass+'" />';
		document.getElementById("newpwd1").innerHTML='<input type="text" name="NEWPASS" id="newp" maxlength="32" size="32"  class="handaer_text_content" value="'+pass2+'" />';
		document.getElementById("newpwd2").innerHTML='<input type="text" name="NEWPASS2" id="newp2" maxlength="32" size="32"  class="handaer_text_content" value="'+pass3+'" />';
	}
	else
	{
		document.getElementById("oldpwd1").innerHTML='<input type="password" name="OLDPASS" id="oldpwd" maxlength="32" size="32" class="handaer_text_content"  value="'+pass+'" />';
		document.getElementById("newpwd1").innerHTML='<input type="password" name="NEWPASS" id="newp" maxlength="32" size="32" class="handaer_text_content"  value="'+pass2+'" />';
		document.getElementById("newpwd2").innerHTML='<input type="password" name="NEWPASS2" id="newp2" maxlength="32" size="32" class="handaer_text_content"  value="'+pass3+'" />';
	}
}
function showpwd2()
{
    var pass = document.getElementById("auth").value;
    var pass2 = document.getElementById("encryption1").value;
	if(document.getElementById("aaaa2").checked == true)
	{
		document.getElementById("authinput").innerHTML='<input type="text" name="AUTHPASS" id="auth" maxlength="32" size="32"  class="handaer_text_content" value="'+pass+'" />';
		document.getElementById("encryption").innerHTML='<input type="text" name="ENCRYASS" id="encryption1" maxlength="32" size="32"  class="handaer_text_content" value="'+pass2+'" />';
	}
	else
	{
		document.getElementById("authinput").innerHTML='<input type="password" name="AUTHPASS" id="auth" maxlength="32" size="32" class="handaer_text_content"  value="'+pass+'" />';
		document.getElementById("encryption").innerHTML='<input type="password" name="ENCRYPASS" id="encryption1" maxlength="32" size="32" class="handaer_text_content"  value="'+pass2+'" />';
	}
}
</script>
</head>

<body onLoad="initValue()" oncontextmenu="window.event.returnValue=false" >
<div class="handaer_main">
<table  border="0" cellpadding="0" cellspacing="0"><tr><td>
<!-- ================= Adm Settings ================= -->
<h1 id="securitytitle"></h1>
<form method="post" name="Adm">
<h2 id="security">修改Web管理页面的登录密码</h2>
 <table id="table2" cellpadding="0" cellspacing="0"   class="handaer_text">
  <tr>
    <td class="title" colspan="2" id="passSet">密码设置</td>
  </tr>

  <tr>
    <td class="head" id="oldPasswd">原密码</td>
    <td><span id="oldpwd1"><input type="password" id="pwd" name="ADMPASS" maxlength="12" size="32" class="handaer_text_content" value="~~ADMPASS~" /></td>
  </tr>
  <tr>
    <td class="head" id="newPasswd">新密码</td>
    <td><span id="newpwd1"><input type="password" id="pwd2" name="ADMPASS2" maxlength="12" size="32" value="~~ADMPASS2~" class="handaer_text_content"/></span></td>
  </tr>
  <tr>
    <td class="head" id="newPasswd2">确认新密码</td>
    <td><span id="newpwd2"><input type="password" id="pwd3" name="NEWPASS2" maxlength="12" size="32" value="~~ADMPASS2~" class="handaer_text_content"/></span></td>
  </tr>
 </table>
<table id="table22" width="540" cellpadding="2" cellspacing="1"">
  <tr align="center">
    <td>
      <input type="button"  class="handaer_input" value="确定" id="manAdmApply" onClick="return AdmFormCheck()">
	  <input type="submit" name="ADMINSET" id="ADMINSET" style="display:none" value="ADMINSET">
    </td>
  </tr>
</table>
<!--/form-->
</td></tr></table></div>

</body>
</html>
