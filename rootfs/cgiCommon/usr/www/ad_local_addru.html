<html>
<head>
<title>DHCP</title>
<LINK REL="stylesheet" HREF="/style/handaer.css" TYPE="text/css" media="all">
<link rel="stylesheet" href="/style/normal_ws.css" type="text/css">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script language="JavaScript" type="text/javascript" src="/lang/b28n.js"></script>
<script language="JavaScript" type="text/javascript" src="/style/basic.js"></script>
<script language="JavaScript" type="text/javascript">
if(getCookie()){}
else{window.top.location.href="../login.html";}

function CheckValue()
{
	if (!checkIpAddr(document.WORKFORM.SR_DESIP, 1))
	{
		document.WORKFORM.SR_DESIP.select();
		return false;
	}
	if (!checkIpAddr(document.WORKFORM.SR_SUB, 2))
	{
		document.WORKFORM.SR_SUB.select();
		return false;
	}
    if (!checkIpAddr(document.WORKFORM.SR_GW, 3))
	{
		document.WORKFORM.SR_GW.select();
		return false;
	}
	button_commit("ADD_STATICR");
	return true;
}

function initTranslation()
{
	trans_inner("title","addru title");	
	trans_inner("des","addru des");
	trans_inner("t1_title","addru t1_title");
	trans_inner("t1_Des","addru t1_Des");
	trans_inner("t1_Sub","addru t1_Sub");
	trans_inner("t1_Gw","addru t1_Gw");
	trans_inner("t1_St","addru t1_St");
	
	trans_value("bCANCEL","lan bCANCEL");
	trans_value("bSAVE","lan bSAVE");
	trans_inner("Senable","lan work");	
	trans_inner("Sdisable","lan offwork");
}

function initValue()
{
	Butterlate.setTextDomain("lan");
	initTranslation();
}
function workoutgw()
{
	var myString=document.getElementById("SR_DESIP").value;	
	//ip地址
	var exp=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;
	var reg = myString.match(exp);
	if(reg==null)
	{
		
	}
	else
	{
		if(document.getElementById("SR_GW").value=="")
		{
			var a = myString.lastIndexOf(".");
			var s;
			s = myString.substr(0, a); // 获取子字符串。
			document.getElementById("SR_GW").value = s+".1";
		}
		if(document.getElementById("SR_SUB").value=="")
		{
			document.getElementById("SR_SUB").value = "255.255.255.0";
		}
	}
}
</script>
</head>
 
<body onLoad="initValue()"  oncontextmenu="window.event.returnValue=false" >
<div class="handaer_main">
<table  width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td>
<h1 id="title">添加静态路由规则</h1>
<p></p>

<FORM method="POST" name="WORKFORM">
<!-- =========== Wireless Settings =========== -->
<h2 id="des"></h2>

<table id="t1"  width="100%" cellpadding="0" cellspacing="0"  class="handaer_text">
<tr>
<td class="title" colspan="2" id="t1_title">添加静态路由规则</td>
</tr>
<tr>
	<td class="head" id="t1_Des">目的网络地址</td>
	<td><input type="text" name="SR_DESIP" id="SR_DESIP" size="32" maxlength="32" class="handaer_text_content" onblur="workoutgw()"></td>
	
</tr>
<tr>
	<td class="head" id="t1_Sub">子网掩码</td>
	<td><input type="text" name="SR_SUB" id="SR_SUB" size="32" maxlength="32" class="handaer_text_content"></td>
	
</tr>
<tr>
	<td class="head" id="t1_Gw">网关</td>
	<td><input type="text" name="SR_GW" id="SR_GW" size="32" maxlength="32" class="handaer_text_content"></td>
	
</tr>
<tr>
	<td class="head" id="t1_St">状态</td>
	<td>
		<select name="SR_STATUS" size="1">
		<option value="1" id="Senable"></option>
		<option value="0" id="Sdisable"></option>
		</select>
	</td>
</tr>
</table>

<table id="buttontable">
<tr align="center">
  <td>
	<input type="button" name="cancel_motion" id="bCANCEL" class="handaer_input" onClick="window.location.href='ad_local_rulist'">
    <input type="button" name="bSAVE" id="bSAVE" class="handaer_input" onClick="CheckValue()">
	<input type="submit" name="ADD_STATICR" id="ADD_STATICR" style="display:none" value="ADD_STATICR">
  </td>
</tr>
</table>

</form>
</td></tr></table> 
</div>
</body>
</html>

